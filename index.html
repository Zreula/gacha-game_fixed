<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gacha Game - Collection & Combat</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ®</text></svg>">
</head>
<body>
    <!-- Compteur de ressources -->
    <div id="playerResources" class="player-resources">
        <div class="resource">
            <span class="resource-icon">ğŸ’°</span>
            <span class="resource-amount" id="playerGold">0</span>
            <span class="resource-label">Or</span>
        </div>
        <div class="resource">
            <span class="resource-icon">ğŸ’</span>
            <span class="resource-amount" id="playerCrystals">0</span>
            <span class="resource-label">Cristaux</span>
        </div>
    </div>

    <!-- Container principal -->
    <div class="gacha-container">
        <!-- SystÃ¨me d'onglets -->
        <div class="tabs">
            <button class="tab active" id="tabInvocation">
                âœ¨ Invocation
            </button>
            <button class="tab" id="tabCollection">
                ğŸ“š Collection
            </button>
            <button class="tab" id="tabCombat">
                âš”ï¸ Combat
            </button>
            <button class="tab" id="tabEquipment">
                âš”ï¸ Ã‰quipement
            </button>
        </div>

        <!-- Onglet Invocation -->
        <div id="invocation" class="tab-content active">
            <h1>ğŸ² Invocation de Personnages</h1>
            
            <div class="stats">
                <div class="stat">
                    <div class="stat-number" id="totalSummons">0</div>
                    <div class="stat-label">Invocations</div>
                </div>
                <div class="stat">
                    <div class="stat-number" id="uniqueCount">0</div>
                    <div class="stat-label">Personnages uniques</div>
                </div>
                <div class="stat">
                    <div class="stat-number" id="legendaryCount">0</div>
                    <div class="stat-label">LÃ©gendaires</div>
                </div>
            </div>

            <div class="summon-cost-info">
                <p>ğŸ’ <strong>10 Cristaux</strong> requis pour une invocation x10</p>
                <p>âš ï¸ Les cristaux sont rares ! Farmez intensivement !</p>
            </div>

            <button class="summon-btn" id="summonBtn">
                <span id="summonText">âœ¨ Invoquer x10 (10 ğŸ’) âœ¨</span>
            </button>

            <div class="results" id="results"></div>

            <div class="redirect-info">
                <p>ğŸ’¡ Consulte tes personnages dans l'onglet <strong>Collection</strong> !</p>
            </div>
        </div>

        <!-- Onglet Collection -->
        <div id="collection" class="tab-content">
            <h1>ğŸ“š Ma Collection</h1>
            
            <div class="collection-stats">
                <div class="stat">
                    <div class="stat-number" id="collectionCountDisplay">0</div>
                    <div class="stat-label">Personnages collectÃ©s</div>
                </div>
                <div class="stat">
                    <div class="stat-number" id="equippedCount">0</div>
                    <div class="stat-label">Ã‰quipÃ©s (max 5)</div>
                </div>
                <div class="stat">
                    <div class="stat-number" id="avgPower">0</div>
                    <div class="stat-label">Puissance moyenne</div>
                </div>
            </div>

            <div class="collection-filters">
                <button class="filter-btn active" data-filter="all">Tous</button>
                <button class="filter-btn" data-filter="legendary">LÃ©gendaires</button>
                <button class="filter-btn" data-filter="epic">Ã‰piques</button>
                <button class="filter-btn" data-filter="rare">Rares</button>
                <button class="filter-btn" data-filter="common">Communs</button>
                <button class="filter-btn" data-filter="equipped">Ã‰quipÃ©s</button>
            </div>

            <div class="save-buttons">
                <button class="save-btn" id="saveBtn">ğŸ’¾ Sauvegarder</button>
                <button class="save-btn" id="loadBtn">ğŸ“ Charger</button>
                <button class="save-btn delete" id="deleteBtn">ğŸ—‘ï¸ Supprimer save</button>
            </div>

            <div class="collection-grid" id="collectionGrid"></div>
    </div>

        <div id="equipment" class="tab-content">
            <h1>âš”ï¸ Ã‰quipement de l'Ã‰quipe</h1>
            
            <div class="equipment-info">
                <div class="stat">
                    <div class="stat-number" id="equippedTeamCount">0</div>
                    <div class="stat-label">Personnages Ã©quipÃ©s</div>
                </div>
                <div class="stat">
                    <div class="stat-number" id="totalTeamPower">0</div>
                    <div class="stat-label">Puissance totale</div>
                </div>
                <div class="stat">
                    <div class="stat-number" id="inventoryCount">0</div>
                    <div class="stat-label">Objets en inventaire</div>
                </div>
            </div>

            <div id="equipmentContainer" class="equipment-container">
                <div class="equipment-message">
                    <p>Aucun personnage Ã©quipÃ© dans votre Ã©quipe.</p>
                    <p>Allez dans l'onglet <strong>Collection</strong> pour Ã©quiper des personnages !</p>
                </div>
            </div>
        </div>
        <!-- Onglet Combat -->
        <div id="combat" class="tab-content">
            <h1>âš”ï¸ Arena de Combat</h1>
            
            <div class="team-info">
                <h3>ğŸ›¡ï¸ Ton Ã‰quipe</h3>
                <div class="team-stats">
                    <div class="stat">
                        <div class="stat-number" id="teamSize">0</div>
                        <div class="stat-label">Personnages</div>
                    </div>
                    <div class="stat">
                        <div class="stat-number" id="teamPower">0</div>
                        <div class="stat-label">Puissance totale</div>
                    </div>
                    <div class="stat">
                        <div class="stat-number" id="recommendedZone">-</div>
                        <div class="stat-label">Zone recommandÃ©e</div>
                    </div>
                </div>
                <div class="team-preview" id="teamPreview">
                    <p>Aucun personnage Ã©quipÃ©. Va dans l'onglet Collection pour Ã©quiper tes combattants !</p>
                </div>
            </div>

            <div class="combat-zones">
                <h3>ğŸ—ºï¸ Zones de Combat</h3>
                <div class="zones-grid" id="zonesGrid">
                    <!-- Les zones seront gÃ©nÃ©rÃ©es par JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Modal pour la fiche personnage -->
    <div id="characterModal" class="modal">
        <div class="modal-content">
            <div class="modal-header" id="modalHeader">
                <span class="close" id="closeModal">&times;</span>
                <div class="character-avatar-large" id="modalAvatar">ğŸ­</div>
                <h2 id="modalName">Nom du Personnage</h2>
                <div id="modalRarity" class="character-rarity">RARETÃ‰</div>
            </div>
            <div class="modal-body">
                <div class="character-info">
                    <div class="character-title" id="modalTitle">Type â€¢ Ã‰lÃ©ment</div>
                    <div class="character-description" id="modalDescription">
                        Description du personnage...
                    </div>
                </div>
                <div class="stats-container">
                    <div class="stats-title">ğŸ“Š Statistiques</div>
                    <div class="stat-bar">
                        <div class="stat-name">Attaque</div>
                        <div class="stat-value" id="attackValue">0</div>
                        <div class="stat-bar-bg">
                            <div class="stat-bar-fill stat-attack" id="attackBar"></div>
                        </div>
                    </div>
                    <div class="stat-bar">
                        <div class="stat-name">DÃ©fense</div>
                        <div class="stat-value" id="defenseValue">0</div>
                        <div class="stat-bar-bg">
                            <div class="stat-bar-fill stat-defense" id="defenseBar"></div>
                        </div>
                    </div>
                    <div class="stat-bar">
                        <div class="stat-name">Vitesse</div>
                        <div class="stat-value" id="speedValue">0</div>
                        <div class="stat-bar-bg">
                            <div class="stat-bar-fill stat-speed" id="speedBar"></div>
                        </div>
                    </div>
                    <div class="stat-bar">
                        <div class="stat-name">Magie</div>
                        <div class="stat-value" id="magicValue">0</div>
                        <div class="stat-bar-bg">
                            <div class="stat-bar-fill stat-magic" id="magicBar"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal d'inventaire -->
    <div id="inventoryModal" class="inventory-modal">
        <div class="inventory-modal-content">
            <div class="inventory-modal-header">
                <h2 class="inventory-modal-title" id="inventoryModalTitle">Inventaire - Arme</h2>
                <span class="inventory-close" id="closeInventoryModal">&times;</span>
            </div>
            <div class="inventory-modal-body">
                <div class="inventory-actions">
                    <button class="inventory-btn unequip" id="unequipBtn">ğŸ—‘ï¸ DÃ©sÃ©quiper</button>
                    <button class="inventory-btn filter" id="filterBtn">ğŸ” Filtrer</button>
                </div>
                <div class="inventory-grid" id="inventoryGrid">
                    <!-- Les objets seront gÃ©nÃ©rÃ©s par JavaScript -->
                </div>
                <div class="inventory-empty" id="inventoryEmpty" style="display: none;">
                    <p>Aucun objet de ce type dans votre inventaire.</p>
                    <p>Explorez les missions pour trouver des Ã©quipements !</p>
                </div>
            </div>
        </div>
    </div>
    <!-- Notification de sauvegarde -->
    <div id="saveNotification" class="save-notification"></div>

    <!-- JavaScript -->
    <script src="config/game-config.js"></script>
    <script src="js/data/characters.js"></script>
    <script src="js/utils/helpers.js"></script>
    <script src="js/modules/save.js"></script>
    <script src="js/modules/ui.js"></script>
    <script src="js/modules/gacha.js"></script>
    <script src="js/modules/combat.js"></script>
    <script src="js/modules/collection.js"></script>
    <script src="js/modules/equipment.js"></script>
    <script src="js/modules/shop.js"></script>
    <script src="js/main.js"></script>
</body>
</html>